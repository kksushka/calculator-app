(()=>{"use strict";var t={56:(t,e,r)=>{t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function r(t){for(var r=-1,a=0;a<e.length;a++)if(e[a].identifier===t){r=a;break}return r}function a(t,a){for(var c={},o=[],s=0;s<t.length;s++){var i=t[s],l=a.base?i[0]+a.base:i[0],u=c[l]||0,p="".concat(l," ").concat(u);c[l]=u+1;var d=r(p),f={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var h=n(f,a);a.byIndex=s,e.splice(s,0,{identifier:p,updater:h,references:1})}o.push(p)}return o}function n(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,n){var c=a(t=t||[],n=n||{});return function(t){t=t||[];for(var o=0;o<c.length;o++){var s=r(c[o]);e[s].references--}for(var i=a(t,n),l=0;l<c.length;l++){var u=r(c[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}c=i}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r="",a=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),a&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),a&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r}).join("")},e.i=function(t,r,a,n,c){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(a)for(var s=0;s<this.length;s++){var i=this[s][0];null!=i&&(o[i]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);a&&o[u[0]]||(void 0!==c&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=c),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),n&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=n):u[4]="".concat(n)),e.push(u))}},e}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,r){var a=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(r)}},664:(t,e,r)=>{r.d(e,{A:()=>s});var a=r(601),n=r.n(a),c=r(314),o=r.n(c)()(n());o.push([t.id,'*{margin:0;padding:0;box-sizing:border-box}:root{--bg: #1e1e1e;--calc-bg: #373636;--display-bg: #4d4c4c;--display-color: #fff;--btn-bg: #868383;--btn-color: #fff;--btn-func-bg: #666666;--btn-hover: #9a9696;--btn-func-hover: #777373}body{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;padding:20px;background:var(--bg);font-family:Arial,sans-serif}[data-theme=light]{--bg: #f2f2f2;--calc-bg: #ffffff;--display-bg: #ececec;--display-color: #000;--btn-bg: #d6d6d6;--btn-color: #000;--btn-func-bg: #bcbcbc;--btn-hover: #c4c4c4;--btn-func-hover: #a5a5a5}[data-theme=dark]{--bg: #1e1e1e;--calc-bg: #373636;--display-bg: #4d4c4c;--display-color: #fff;--btn-bg: #868383;--btn-color: #fff;--btn-func-bg: #666666;--btn-hover: #9a9696;--btn-func-hover: #777373}.calculator{max-width:500px;width:100%;background:var(--calc-bg);border-radius:15px;box-shadow:0 0 10px rgba(0,0,0,.2);overflow:hidden}.calculator__display{position:relative;background:var(--display-bg);color:var(--display-color);font-size:2.5rem;padding:30px 15px 10px 10px;text-align:right;white-space:nowrap;overflow-x:auto;overflow-y:hidden;scrollbar-width:none;min-height:90px}.calculator__display::-webkit-scrollbar{display:none}.calculator__display-wrapper{position:relative;z-index:1;width:100%;overflow:hidden}.calculator__display-wrapper::before{content:"";position:absolute;z-index:2;left:0;top:0;bottom:0;width:25px;background:linear-gradient(to right, rgba(0, 0, 0, 0.4), transparent);opacity:0;transition:opacity .3s;pointer-events:none}.calculator__display-wrapper.shadow::before{opacity:1}.calculator__buttons{display:grid;grid-template-columns:repeat(6, 1fr);gap:1px}.calculator__buttons .btn,.calculator__buttons .btn__func,.calculator__buttons .btn__operator{padding:18px;font-size:1.2rem;border:none;cursor:pointer;transition:all ease .3s;min-height:65px}.calculator__buttons .btn__func.active-func{background:#ff9500 !important;color:#fff !important;border:1px solid #ff9500;box-shadow:0 0 2px rgba(255,149,0,.4);transition:all .2s linear}.calculator__buttons .btn{background:var(--btn-bg);color:var(--btn-color)}.calculator__buttons .btn:hover{background:var(--btn-hover)}.calculator__buttons .btn__func{background:var(--btn-func-bg);color:var(--btn-color)}.calculator__buttons .btn__func:hover{background:var(--btn-func-hover)}.calculator__buttons .btn__operator{background:#ff9500;color:#fff}.calculator__buttons .btn__operator:hover{background:#ffaf6a}.calculator__buttons .zero{grid-column:span 2}.theme-switcher{margin-bottom:20px;display:flex;gap:10px}.theme-switcher button{padding:8px 16px;border-radius:6px;border:none;cursor:pointer;background:#ccc;transition:.3s;color:#000}.theme-switcher button:hover{background:#bbb}.theme-switcher button.active{background:#ff9500}@media(max-width: 768px){.calculator{max-width:280px}.calculator__display{font-size:2.2rem;padding:25px 12px 8px 0;min-height:80px}.calculator__buttons .btn,.calculator__buttons .btn__func,.calculator__buttons .btn__operator{padding:16px;font-size:1.1rem;min-height:60px;transition:none}}@media(max-width: 480px){.calculator{max-width:250px;border-radius:12px}.calculator__display{font-size:2rem;padding:20px 10px 5px 0;min-height:70px}.calculator__buttons .btn,.calculator__buttons .btn__func,.calculator__buttons .btn__operator{padding:14px;font-size:1rem;min-height:55px;transition:none}.theme-switcher{margin-bottom:15px}.theme-switcher button{padding:6px 12px;font-size:.9rem}}@media(max-width: 320px){.calculator{max-width:250px}.calculator__display{font-size:1.8rem;padding:15px 8px 5px 0;min-height:60px}.calculator__buttons .btn,.calculator__buttons .btn__func,.calculator__buttons .btn__operator{padding:12px;font-size:.9rem;min-height:50px;transition:none}}',""]);const s=o},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var a="";r.supports&&(a+="@supports (".concat(r.supports,") {")),r.media&&(a+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(a+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),a+=r.css,n&&(a+="}"),r.media&&(a+="}"),r.supports&&(a+="}");var c=r.sourceMap;c&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function r(a){var n=e[a];if(void 0!==n)return n.exports;var c=e[a]={id:a,exports:{}};return t[a](c,c.exports,r),c.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nc=void 0;const a=t=>t<0?-t:t,n=t=>"number"==typeof t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0,c=(t,e)=>{if(0===e)return 1;if(0===t)return e>0?0:NaN;if(e%1==0)return((t,e)=>{if(0===e)return 1;let r=1;const a=e>0,n=a?e:-e;for(let e=0;e<n;e++)r*=t;return a?r:1/r})(t,e);const r=t<0,n=(t=>{let e=t;if(e<=0)return NaN;let r=0;for(;e>=2;)e/=2,r+=.69314718056;for(;e<1;)e*=2,r-=.69314718056;const a=e-1;let n=a,c=a;for(let t=2;t<=20;t++)c*=-a,n+=c/t;return r+n})(a(t));if(Number.isNaN(n))return NaN;const c=(t=>{let e=1,r=1;for(let a=1;a<=20;a++)r*=t/a,e+=r;return e})(n*e);return r&&e%2!=0?-c:c},o=(t,e)=>{if(0===e)return NaN;if(t<0&&e%2==0)return NaN;if(0===t)return 0;const r=t<0&&e%2==1,n=a(t);let o=n;o>1&&(o/=2);for(let t=0;t<50;t++){const t=c(o,e-1);if(0===t)break;const r=((e-1)*o+n/t)/e;if(a(r-o)<1e-12)break;o=r}return r?-o:o},s={"+":1,"-":1,"*":2,"/":2,"^":3},i=(t,e,r)=>{switch(r){case"+":return t+e;case"-":return t-e;case"*":return t*e;case"/":return 0===e?NaN:t/e;case"^":return 0===e?1:0===t&&e<0?NaN:c(t,e);default:return NaN}},l=t=>{try{let e=t.replace(/÷/g,"/").replace(/×/g,"*").replace(/−/g,"-").replace(/\^/g,"^").replace(/([-−]?\d+(\.\d+)?)%/g,"($1/100)");e=(t=>t.replace(/(^|[+\-*/])-(?=\d)/g,"$10-"))(e);return(t=>{const e=[],r=[];for((t.forEach(t=>{if(/^\d/.test(t))e.push(parseFloat(t));else if(t in s){for(;r.length&&s[r[r.length-1]]>=s[t];)e.push(r.pop());r.push(t)}}));r.length;)e.push(r.pop());const a=[];for(const t of e)if("number"==typeof t)a.push(t);else{const e=a.pop(),r=a.pop();if(void 0===r||void 0===e)return NaN;const n=i(r,e,t);if(isNaN(n))return NaN;a.push(n)}return 1===a.length?a[0]:NaN})(e.match(/(\d+(\.\d+)?|[+\-*/^])/g)||[])}catch(t){return Number.NaN}};let u=0;const p={mc:()=>(u=0,u),mPlus:t=>{const e=l(t);return n(e)&&(u+=e),u},mMinus:t=>{const e=l(t);return n(e)&&(u-=e),u},mr:()=>u,getMemory:()=>u},d=t=>t.replace(/(\.\d*?[1-9])0+$/u,"$1").replace(/\.0+$/u,"").replace(/\.$/u,""),f=(t,e)=>{if(!n(t))return"Error";const r=t<0,c=a(t).toString(),[o,s=""]=c.split(".");if(0===e)return`${r?"-":""}${o}`;let i=s.slice(0,e);return i.length<e&&(i=i.padEnd(e,"0")),`${r?"-":""}${o}${e?`.${i}`:""}`},h=t=>{if("number"!=typeof t||Number.isNaN(t))return"Error";if(!n(t))return"Error";if(0===t)return"0";const e=a(t);if(e>=1e15||e<1e-6&&e>0){let r=0,a=e;if(a>=1)for(;a>=10;)a/=10,r++;else for(;a<1;)a*=10,r--;return`${t<0?"-":""}${d(f(a,6))}e${r}`}return d(f(t,8))},m=(t,e,r)=>{const a=t;a.textContent=r||"0",a.scrollLeft=a.scrollWidth,a.scrollWidth>a.clientWidth?e.classList.add("shadow"):e.classList.remove("shadow")};class b{execute(){}}class g extends b{constructor(t){super(),this.calculator=t}}class v extends g{constructor(t,e){super(t),this.digit=e}execute(){const t=this.calculator.state;t.isResult&&(t.currentInput="",t.leftOperand=null,t.currentOperator=null,t.isResult=!1),t.currentInput.length<t.MAX_LEN&&(t.currentInput+=this.digit),this.calculator.updateDisplay()}}class y extends g{execute(){const t=this.calculator.state;t.currentInput?t.currentInput=t.currentInput.startsWith("-")?t.currentInput.slice(1):`-${t.currentInput}`:null!==t.leftOperand&&(t.leftOperand=-t.leftOperand),this.calculator.updateDisplay()}}class x extends g{execute(){const t=this.calculator.state;if(t.currentInput){const e=this.calculator.evaluateExpression(t.currentInput);if(!this.calculator.isFiniteSafe(e))return;if(null!==t.leftOperand&&t.currentOperator){let r;switch(t.currentOperator){case"×":case"÷":default:r=e/100;break;case"+":case"−":r=t.leftOperand*(e/100)}t.currentInput=r.toString()}else t.currentInput=(e/100).toString()}else null!==t.leftOperand&&t.currentOperator&&(t.currentInput=(t.leftOperand/100).toString());this.calculator.updateDisplay()}}class _ extends g{constructor(t,e){super(t),this.operation=e}execute(){const t=this.calculator.state,e={plus:"+",minus:"−",multiply:"×",divide:"÷"}[this.operation];if(t.pendingOperation&&null!==t.storedValue&&this.calculator.processPendingOperation(),t.currentInput||null!==t.leftOperand&&t.currentOperator){const e=this.calculator.calculateCurrentExpression();if(!this.calculator.isFiniteSafe(e))return void this.calculator.displayError();t.leftOperand=e,t.currentInput=""}if(null===t.leftOperand&&t.currentInput){const e=this.calculator.evaluateExpression(t.currentInput);if(!this.calculator.isFiniteSafe(e))return void this.calculator.displayError();t.leftOperand=e,t.currentInput=""}if(null===t.leftOperand&&!t.currentInput&&"minus"===this.operation)return t.currentInput="-",void this.calculator.updateDisplay();null===t.leftOperand&&(t.leftOperand=0),t.currentOperator=e,t.isResult=!1,this.calculator.updateDisplay()}}class O extends g{execute(){const t=this.calculator.state;if(t.pendingOperation&&null!==t.storedValue)return void this.calculator.processPendingOperation();const e=this.calculator.calculateCurrentExpression();this.calculator.isFiniteSafe(e)?(t.leftOperand=e,t.currentInput="",t.currentOperator=null,t.isResult=!0,this.calculator.updateDisplay()):this.calculator.displayError()}}class w extends g{execute(){const t=this.calculator.state;t.currentInput="",t.leftOperand=null,t.currentOperator=null,t.storedValue=null,t.pendingOperation=null,t.activeButton&&t.activeButton.classList.remove("active-func"),t.activeButton=null,t.isResult=!1,this.calculator.updateDisplay()}}class N extends g{constructor(t,e){super(t),this.functionName=e}execute(){const t=this.calculator.state;let e;if(t.currentInput&&t.currentOperator&&null!==t.leftOperand){const r=`${t.leftOperand} ${t.currentOperator} ${t.currentInput}`;e=this.calculator.evaluateExpression(r)}else if(t.currentInput)e=this.calculator.evaluateExpression(t.currentInput);else{if(null===t.leftOperand)return;e=t.leftOperand}if("number"!=typeof e||!this.calculator.isFiniteSafe(e))return void this.calculator.displayError();if("factorial"===this.functionName){if(e<0||e%1!=0)return void this.calculator.displayError();if(e>170)return void this.calculator.updateDisplay("Overflow")}if("sqrt"===this.functionName&&e<0)return void this.calculator.displayError();if("reciprocal"===this.functionName&&0===e)return void this.calculator.displayError();const r=this.calculator.applyFunction(this.functionName,e);"number"==typeof r&&this.calculator.isFiniteSafe(r)?(t.leftOperand=r,t.currentInput="",t.currentOperator=null,t.isResult=!0,this.calculator.updateDisplay()):this.calculator.displayError()}}class I extends g{constructor(t,e){super(t),this.operationType=e}execute(t=null){const{state:e}=this.calculator,r=this.calculator.calculateCurrentExpression();this.calculator.isFiniteSafe(r)?(e.storedValue=r,e.pendingOperation=this.operationType,e.currentInput="",e.currentOperator=null,e.isResult=!1,e.activeButton&&e.activeButton.classList.remove("active-func"),e.activeButton=t,t&&t.classList.add("active-func"),this.calculator.updateDisplay()):this.calculator.displayError()}}class E extends g{constructor(t,e){super(t),this.memoryAction=e}execute(){const{state:t}=this.calculator,e=document.querySelector('[data-action="mr"]');if("mr"===this.memoryAction){const e=this.calculator.memoryActions.mr();t.currentInput=this.calculator.formatNumber(e),t.isResult=!1,this.calculator.updateDisplay()}else{const t=this.calculator.calculateCurrentExpression();null!==t&&this.calculator.isFiniteSafe(t)&&this.calculator.memoryActions[this.memoryAction](t.toString()),"mPlus"!==this.memoryAction&&"mMinus"!==this.memoryAction||e&&e.classList.add("active-func"),"mc"===this.memoryAction&&e&&e.classList.remove("active-func")}}}class C{constructor(t){this.calculator=t}createDigitCommand(t){return new v(this.calculator,t)}createOperationCommand(t){return new _(this.calculator,t)}createFunctionCommand(t){return new N(this.calculator,t)}createSpecialOperationCommand(t){return new I(this.calculator,t)}createMemoryCommand(t){return new E(this.calculator,t)}createEqualsCommand(){return new O(this.calculator)}createClearCommand(){return new w(this.calculator)}createSignCommand(){return new y(this.calculator)}createPercentCommand(){return new x(this.calculator)}}class k{constructor(t,e){this.display=t,this.wrapper=e,this.state={currentInput:"",leftOperand:null,currentOperator:null,isResult:!1,pendingOperation:null,storedValue:null,activeButton:null,MAX_LEN:30},this.commandFactory=new C(this)}updateDisplay(){let t="";if(this.state.pendingOperation&&null!==this.state.storedValue){const e="power"===this.state.pendingOperation?"^":"ʸ√";t=`${h(this.state.storedValue)} ${e} ${this.state.currentInput||""}`}else t=null!==this.state.leftOperand&&this.state.currentOperator?`${h(this.state.leftOperand)} ${this.state.currentOperator} ${this.state.currentInput||""}`:this.state.currentInput?this.state.currentInput:null!==this.state.leftOperand?h(this.state.leftOperand):"0";m(this.display,this.wrapper,t)}calculateCurrentExpression(){if(null!==this.state.leftOperand&&this.state.currentOperator&&this.state.currentInput){const t=`${this.state.leftOperand} ${this.state.currentOperator} ${this.state.currentInput}`;return l(t)}return this.state.currentInput&&!this.state.leftOperand?l(this.state.currentInput):this.state.leftOperand}evaluateExpression(t){return l(t)}applyFunction(t,e){return((t,e)=>{if("number"!=typeof e||isNaN(e))return NaN;switch(t){case"square":return c(e,2);case"cube":return c(e,3);case"reciprocal":return 0===e?NaN:1/e;case"sqrt":return o(e,2);case"cbrt":return o(e,3);case"tenPower":return c(10,e);case"factorial":{const t=(t=>{if(t<0||t%1!=0)return NaN;if(t>170)return NaN;if(0===t)return 1;let e=1;for(let r=2;r<=t;r++)e*=r;return e})(e);return isNaN(t)?NaN:t}default:return e}})(t,e)}isFiniteSafe(t){return n(t)}formatNumber(t){return h(t)}displayError(){m(this.display,this.wrapper,"Error")}processPendingOperation(){if(this.state.pendingOperation&&null!==this.state.storedValue){let t,e;if(t=this.state.currentInput?l(this.state.currentInput):null!==this.state.leftOperand?this.state.leftOperand:1,"power"===this.state.pendingOperation?e=c(this.state.storedValue,t):"yRoot"===this.state.pendingOperation&&(e=o(this.state.storedValue,t)),!n(e))return this.clear(),void m(this.display,this.wrapper,"Error");this.state.leftOperand=e,this.state.currentInput="",this.state.currentOperator=null,this.state.pendingOperation=null,this.state.storedValue=null,this.state.activeButton&&this.state.activeButton.classList.remove("active-func"),this.state.activeButton=null,this.state.isResult=!0,this.updateDisplay()}}clear(){this.state.currentInput="",this.state.leftOperand=null,this.state.currentOperator=null,this.state.storedValue=null,this.state.pendingOperation=null,this.state.activeButton&&this.state.activeButton.classList.remove("active-func"),this.state.activeButton=null,this.state.isResult=!1,this.updateDisplay()}get memoryActions(){return p}}var S=r(72),$=r.n(S),A=r(825),F=r.n(A),L=r(659),D=r.n(L),M=r(56),B=r.n(M),R=r(540),P=r.n(R),z=r(113),q=r.n(z),V=r(664),T={};T.styleTagTransform=q(),T.setAttributes=B(),T.insert=D().bind(null,"head"),T.domAPI=F(),T.insertStyleElement=P(),$()(V.A,T),V.A&&V.A.locals&&V.A.locals,document.addEventListener("DOMContentLoaded",()=>{((t,e)=>{const r=document.querySelectorAll(".btn, .btn__func, .btn__operator"),a=new k(t,e);r.forEach(t=>{t.addEventListener("click",()=>{const{action:e}=t.dataset,r=t.textContent;if(e)switch(e){case"clear":a.commandFactory.createClearCommand().execute();break;case"equals":a.commandFactory.createEqualsCommand().execute();break;case"plus":case"minus":case"multiply":case"divide":a.commandFactory.createOperationCommand(e).execute();break;case"square":case"cube":case"reciprocal":case"sqrt":case"cbrt":case"tenPower":case"factorial":a.commandFactory.createFunctionCommand(e).execute();break;case"power":case"yRoot":a.commandFactory.createSpecialOperationCommand(e).execute(t);break;case"mc":case"mPlus":case"mMinus":case"mr":a.commandFactory.createMemoryCommand(e).execute();break;case"sign":a.commandFactory.createSignCommand().execute();break;case"percent":a.commandFactory.createPercentCommand().execute()}else a.commandFactory.createDigitCommand(r).execute()})}),a.updateDisplay()})(document.getElementById("display"),document.getElementById("display-wrapper")),(()=>{const t=document.querySelectorAll(".theme-switcher button");t.forEach(e=>{e.addEventListener("click",()=>{const r="light-theme"===e.id?"light":"dark";document.body.setAttribute("data-theme",r),localStorage.setItem("theme",r),t.forEach(t=>t.classList.remove("active")),e.classList.add("active")})});const e=localStorage.getItem("theme")||"dark";document.body.setAttribute("data-theme",e),t.forEach(t=>{("light-theme"===t.id?"light":"dark")===e&&t.classList.add("active")})})()})})();